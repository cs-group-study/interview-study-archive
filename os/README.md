# OS

## ❓프로세스와 스레드에 대해 설명해주세요.

### 프로세스

프로세스는 운영체제로 부터 자원을 **할당받은 작업의 단위**를 말합니다.
쉽게 설명하면 프로세스는 프로그램이 CPU에서 처리될 수 있도록 메모리에 올라와 프로그램이 돌아가고 있는 상태를 말합니다.

### 스레드

스레드는 프로세스가 할당받은 자원을 이용하는 **실행 흐름의 단위**입니다.

하나의 프로세스 안에서 하나 이상의 스레드가 실행됩니다. 각 스레드 간의 관계를 말씀드리면 프로세스 내에 구성된 code, heap, data의 자원은 여러 스레드가 함께 공유합니다. 그러나 stack은 각 스레드에서 독립적으로 할당받습니다. 각각의 스레드는 별도의 stack을 가지고있지만 heap 메모리는 고유하기 때문에 서로 다른 스레드에서 가져와 읽고 쓸 수 있게 됩니다.

### 스레드의 4가지의 메모리 영역

**heap**
스레드는 힙 메모리에 동적으로 할당된 데이터를 저장하는 곳.
힙 메모리는 메모리 관리자(Memory Manager)에 의해 관리되며, 개발자가 필요한 만큼 메모리를 동적으로 할당하고 해제할 수 있습니다.
동적으로 할당된 데이터를 저장하므로 다수의 스레드가 데이터를 공유할 때 데이터 무결성을 유지할 수 있습니다.

**data**
코드가 실행되면서 사용하는 전역 변수나 각종 데이터들

**stack**
각 스레드는 자체적인 스택 메모리를 가지며, 스택 메모리는 스레드의 함수 호출 및 로컬 변수 저장에 사용됩니다.
stack은 함수 호출 시 전달되는 인자, 되돌아갈 주소 값, 함수 내에서 선언하는 변수 등을 저장하는 별도의 메모리공간이기 때문에 독립적인 함수 호출이 가능하여 독립적인 실행 흐름을 가질 수 있습니다.

**code**
프로그램의 명령어가 저장되는 곳으로 프로그램 함수들의 코드가 저장되어있습니다.

이렇게 메모리 공간을 분할하는 것은 다중 스레드 및 다중 프로세스 환경에서 1.안정성과 독립성을 확보하고, 2. 효율성을 증대할 수있습니다.

(\* 멀티스레딩은 하나의 프로세스에서 여러 개의 스레드가 동시에 실행될 수 있는 기술을 의미합니다.)

[결론]
-> 프로세스와 스레드를 이렇게 구성하는 이유는, 하나의 프로세스를 다수의 스레드로 구분하여 자원을 공유하고, 자원의 생성과 관리의 중복성을 최소화하여 수행 능력을 올리기 위함입니다.

### 멀티 스프로세스와 멀티 스레드

**멀티 프로세스**
멀티 프로세스는 독립적인 프로세스들이 여러 개 동시에 실행되는 것을 의미합니다.
각 프로세스는 운영 체제로부터 자체 메모리 공간을 할당받으며, 각각 독립적으로 실행됩니다.

**멀티 스레드**
멀티 스레드는 하나의 프로세스 내에서 여러 스레드가 동시에 실행되는 것을 의미합니다.
스레드는 같은 프로세스 내에서 메모리를 공유하며, 스레드 간 통신이 비교적 간단하고 빠릅니다.

## ❓ 뮤텍스와 세마포어에 대해 설명해주세요.

- 임계 영역 문제를 해결하기 위한 소프트웨어 도구입니다.

### 뮤텍스(Mutex)

- Key에 해당하는 오브젝트가 있고, 이 오브젝트를 소유한 프로세스만이 공유 자원에 접근할 수 있습니다.
- 임계 구역에 입장하기 전, `acquire` 연산을 통해 Lock을 얻고, 임계 구역을 나갈 때 `release` 연산을 통해 Lock을 해제합니다. 

### 세마포어(Semaphore)

- 공유 자원에 접근할 수 있는 최대 허용치만큼 동시에 프로세스 접근을 허용할 수 있습니다.
- 임계 구역에 입장하기 전 `P` 호출을 통해 임계 구역에 들어갈 신호를 받고, 임계 구역을 나갈 때 `V` 호출을 통해 세마포어를 해제합니다.
- 임계 구역에 진입 가능한 프로세스의 수가 1개일 경우, N개일 경우에 따라 바이너리 세마포어, 카운팅 세마포어로 나누어질 수 있습니다.

### 바이너리 세마포어와 뮤텍스의 차이점은 무엇인가요?

- 바이너리 세마포어는 신호 전달 메커니즘으로 동작하며, 뮤텍스는 잠금 메커니즘을 기반으로 동작합니다.